{% extends 'layouts/default.html' %}
{% block body%}
    {% include 'layouts/shared/_menu-admin.html'%}
    <link rel="stylesheet" href="{{url_for('static', filename='css/bootstrap.min.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename='css/style.css')}}">
    {# <link rel="stylesheet" href="{{url_for('static', filename='css/style2.css')}}"> #}

    <div class="container-fluid">
        <div class="row">
            <div class="col-4">
                <div class="container border border_secondary rounded-lg">  
                    <section id="code_mag_section1">
                        {% for i in range(nbre_mag): %}
                        <div>
                            <ul id="code_mag_ul">
                                <li>   {{  mag_code[i][0]  }} <input type="number"  value= "{{  mag_code[i][1]  }}" name="{{  mag_code[i][1]  }}" size="3">   
                                        <input type="number"  value= "{{  mag_code[i][2]  }}" name="{{  mag_code[i][2]  }}" size="3">
                                        <input type="number"  value= "{{  mag_code[i][3]  }}" name="{{  mag_code[i][3]  }}" size="3"> 
                                
                                </li>
                            </ul>
                        </div>  
                            
                        {% endfor %}
                    </section>
                    <!--<table>
                        <tr>
                            <td>Codes magasins </td>
                            <td>Rolls </td>
                            <td>Palette</td>
                            <td>Boxe</td>
                        </tr>
                        
                        {% for i in range(nbre_mag): %}
                            <tr class="d-flex">
                                <td class="col-sm-1">    {{  mag_code[i][0]  }} </td>
                                <td style="width:18%;">    <input type="number"  value= "{{  mag_code[i][1]  }}" name="{{  mag_code[i][1]  }}" size="3"></td>
                                <td style="width:18%;">    <input type="number"  value= "{{  mag_code[i][2]  }}" name="{{  mag_code[i][2]  }}" size="3"> </td>
                                <td style="width:18%;">    <input type="number"  value= "{{  mag_code[i][3]  }}" name="{{  mag_code[i][3]  }}" size="3"> </td>
                                
                            </tr>
                        {% endfor %}
                    </table>-->
                </div>
            </div>

                
            <div class="row">
                <div class="col-8"></div>
                    <!--<div class="container border border_secondary rounded-lg"> -->
                        {% for cam in liste_camion: %}
                        
                            <table class="table table-hover">
                                <thead>
                                    <tr class="d-flex">
                                        <th scope="col" class="w-25">{{cam[0]}} :</th> 
                                        <th scope="col" style="width:18%;"> capacite :</th>
                                        <th scope="col" style="width:21%;">  </th>
                                        <th scope="col" style="width:16%;">{{cam[1]}} :</th>
                                    </tr>
                                </thead>
                            
                                
                                <tbody>
                                    <tr class="d-flex">
                                        <td>
                                            <select name="liste_camions">
                                                {% for j in range(nbre_chauffeur): %}
                                                    <option value="{{chauffeur[j][3]}} "> {{chauffeur[j][0]}} </option>
                                                {% endfor %}
                                            </select>
                                        </td>    
                                        <td class="col-sm-1">    Rolls </td>
                                        <td class="col-sm-1">    Palette </td>
                                        <td class="col-sm-1">    Boxe </td>
                                    </tr>
                                    <tr class="d-flex">
                                        <div class="lists">
                                            <div class="list">
                                                <div class="list-item">

                                                </div>
                                            </div>
                                        </div>
                                    </tr>
                                    <!--<tr class="d-flex">
                                        <td class="col-sm-1" id="mag_cam">    <input type="text"  ></td>
                                        <td class="col-sm-1">    <input type="number"  > </td>
                                        <td class="col-sm-1">    <input type="number"  > </td>
                                        <td class="col-sm-1">    <input type="number"  > </td>   
                                    </tr>
                                    <tr class="d-flex">
                                        <td class="col-sm-1" id="mag_cam">    <input type="text"  ></td>
                                        <td class="col-sm-1">    <input type="number"  > </td>
                                        <td class="col-sm-1">    <input type="number"  > </td>
                                        <td class="col-sm-1">    <input type="number"  > </td>   
                                    </tr>
                                    <tr class="d-flex">
                                        <td class="col-sm-1" id="mag_cam">    <input type="text"  ></td>
                                        <td class="col-sm-1">    <input type="number"  > </td>
                                        <td class="col-sm-1">    <input type="number"  > </td>
                                        <td class="col-sm-1">    <input type="number"  > </td>   
                                    </tr>
                                    <tr class="d-flex">
                                        <td class="col-sm-1" id="mag_cam">    Total</td>
                                        <td class="col-sm-1">    <input type="number"  > </td>
                                        <td class="col-sm-1">    <input type="number"  > </td>
                                        <td class="col-sm-1">    <input type="number"  > </td>   
                                    </tr>-->
                                </tbody>
                            </table><br>
                        {% endfor %}
                    <!--</div>  -->
                </div>      
            </div>
        </div>    
    </div>


<script>
    $li=$("#code_mag_ul > li")
    //$input=$("input[type=\"text\"][id^=\"mag_cam\"]");
    $p=$("p[type=\"text\"][id^=\"mag_cam\"]");
    $(document).ready(function() {
        addDraggableAttributeTocode_mag_section1();
        $li.on("dragstart", code_magStartEventHandler);
        //$input.on("drop", mag_camDropEventHendler);
        $p.on("drop", mag_camDropEventHendler);
    });
    function addDraggableAttributeTocode_mag_section1(){
        $li.attr("draggable","true");
    }
    function code_magStartEventHandler(event){
        (event.originalEvent || event).dataTransfer.setData("text",$(this).text());
    }
    function mag_camDropEventHendler (event) {
        let magPart=(event.originalEvent || event).dataTransfer.getData("text");
        $(this).val(magPart);
        event.preventDefault();
    }
</script>
{% endblock %}